{"version":3,"file":"static/js/975.8311dc6d.chunk.js","mappings":"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","sources":["components/Dialogs/DialogItem/DialogItem.styled.js","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.styled.js","components/Dialogs/Message/Message.jsx","components/Dialogs/AddMessageForm/AddMessageForm.jsx","components/Dialogs/Dialogs.styled.js","components/Dialogs/Dialogs.jsx","redux/dialogs-selectors.js","components/Dialogs/DialogsContainer.jsx"],"sourcesContent":["import styled from \"../../../styledJss\"\r\n\r\nconst S = {}\r\n\r\nS.Container = styled('div')({\r\n\tdisplay: 'flex',\r\n\talignItems: 'center',\r\n\tcolumnGap: 10,\r\n\t'& img': {\r\n\t\twidth: 50,\r\n\t\theight: 50,\r\n\t\tobjectFit: 'cover',\r\n\t\tborderRadius: '50%'\r\n\t}\r\n})\r\n\r\nexport default S","import { NavLink } from 'react-router-dom'\r\nimport S from './DialogItem.styled';\r\n\r\nconst DialogItem = (props) => (\r\n\t<S.Container>\r\n\t\t<img src={props.avatar} alt=\"\" />\r\n\t\t<NavLink to={'/dialogs/' + props.id} >{props.name}</NavLink>\r\n\t</S.Container>\r\n)\r\n\r\nexport default DialogItem;","import styled from \"../../../styledJss\"\r\n\r\nconst S = {}\r\n\r\nS.Message = styled('div')(({ theme }) => ({\r\n\twidth: 'max-content',\r\n\tpadding: '6px 18px',\r\n\tbackgroundColor: theme.colors.backgroundContainer,\r\n\tborderRadius: theme.sizes.borderRadius,\r\n}))\r\n\r\nexport default S","import S from './Message.styled';\r\n\r\nconst Message = ({ text }) => (\r\n\t<S.Message>{text}</S.Message>\r\n)\r\n\r\nexport default Message;","import { Field, Form, Formik } from \"formik\"\r\nimport { notNull } from \"../../../utilits/validators/validators\"\r\nimport { SendTextarea } from \"../../common/form/Textarea/Textarea\"\r\n\r\nconst AddMessageForm = (props) => {\r\n\tconst onSubmit = (values, { setSubmitting, resetForm }) => {\r\n\t\tprops.sendMessage(values.message)\r\n\t\tsetSubmitting(false)\r\n\t\tresetForm()\r\n\t}\r\n\r\n\treturn <Formik\r\n\t\tinitialValues={{ message: '' }}\r\n\t\tonSubmit={onSubmit}\r\n\t>\r\n\t\t{({\r\n\t\t\tvalues,\r\n\t\t\tisSubmitting\r\n\t\t}) => (\r\n\t\t\t<Form>\r\n\t\t\t\t<Field component={SendTextarea} name='message' placeholder=\"Enter Your message\" validate={notNull} />\r\n\t\t\t</Form>\r\n\t\t)}\r\n\t</Formik>\r\n}\r\n\r\nexport default AddMessageForm","import styled from \"../../styledJss\"\r\n\r\nconst S = {}\r\n\r\nS.Container = styled('div')(({ theme }) => ({\r\n\tdisplay: 'grid',\r\n\tgridTemplateColumns: '4fr 8fr',\r\n\theight: `calc(100vh - ${theme.sizes.headerHeight}px)`,\r\n\tpadding: 20\r\n}))\r\n\r\nS.Dialogs = styled('div')({\r\n\t'&>*:not(:last-child)': {\r\n\t\tmarginBottom: 10\r\n\t}\r\n})\r\n\r\nS.Chat = styled('div')({\r\n\trowGap: 15,\r\n\tdisplay: 'flex',\r\n\tflexFlow: 'column',\r\n\tjustifyContent: 'flex-end',\r\n\toverflow: 'hidden',\r\n})\r\n\r\nS.ChatWrapper = styled('div')({\r\n\tdisplay: 'flex',\r\n\tposition: 'relative',\r\n\toverflow: 'hidden',\r\n\t'&:hover span': {\r\n\t\topacity: 0\r\n\t}\r\n})\r\n\r\nS.MessagesBlock = styled('div')(({ theme }) => ({\r\n\tdisplay: 'flex',\r\n\twidth: '100%',\r\n\tflexFlow: 'column-reverse nowrap',\r\n\toverflow: 'auto',\r\n\t'&>*:not(:first-child)': {\r\n\t\tmarginBottom: 10\r\n\t},\r\n\t'&::-webkit-scrollbar': {\r\n\t\twidth: 5,\r\n\t\tbackgroundColor: theme.colors.scrollbarBackground,\r\n\t\tborderRadius: '5px',\r\n\t},\r\n\t'&::-webkit-scrollbar-thumb': {\r\n\t\tbackgroundColor: theme.colors.scrollbar,\r\n\t\tborderRadius: '5px'\r\n\t},\r\n\t'&::-webkit-scrollbar-track': {\r\n\t\tborderRadius: '5px'\r\n\t}\r\n}))\r\n\r\nS.MagicBox = styled('span')(({ theme }) => ({\r\n\tdisplay: 'block',\r\n\tposition: 'absolute',\r\n\theight: '100%',\r\n\twidth: 5,\r\n\ttop: 0,\r\n\tright: 0,\r\n\tbackgroundColor: theme.colors.background,\r\n\ttransition: 'opacity .1s'\r\n}))\r\n\r\nexport default S","import DialogItem from './DialogItem/DialogItem'\r\nimport Message from './Message/Message'\r\nimport AddMessageForm from \"./AddMessageForm/AddMessageForm\"\r\nimport S from './Dialogs.styled'\r\nimport { useEffect, useRef } from 'react'\r\n\r\nconst Dialogs = (props) => {\r\n\tlet dialogList = props.dialogs.map(d => <DialogItem name={`${d.firstName} ${d.lastName}`} key={d.id} id={d.id} avatar={d.avatar} />)\r\n\tlet msgList = props.messages.map(m => <Message text={m.text} key={m.id} />).reverse()\r\n\tconst messagesEndRef = useRef(null)\r\n\r\n\tuseEffect(() => {\r\n\t\tscrollToBottom()\r\n\t}, [props.messages]);\r\n\r\n\tconst scrollToBottom = () => {\r\n\t\tmessagesEndRef.current?.scrollIntoView({ behavior: \"smooth\", block: 'end' })\r\n\t}\r\n\r\n\treturn (\r\n\t\t<S.Container>\r\n\t\t\t<S.Dialogs>\r\n\t\t\t\t{dialogList}\r\n\t\t\t</S.Dialogs>\r\n\t\t\t<S.Chat>\r\n\t\t\t\t<S.ChatWrapper>\r\n\t\t\t\t\t<S.MagicBox />\r\n\t\t\t\t\t<S.MessagesBlock>\r\n\t\t\t\t\t\t<div ref={messagesEndRef} />\r\n\t\t\t\t\t\t{msgList}\r\n\t\t\t\t\t</S.MessagesBlock>\r\n\t\t\t\t</S.ChatWrapper>\r\n\t\t\t\t<AddMessageForm sendMessage={props.sendMessage} />\r\n\t\t\t</S.Chat>\r\n\t\t</S.Container>\r\n\t)\r\n}\r\n\r\nexport default Dialogs;","export const selectDialogs = state => state.dialogs.dialogsData\r\n\r\nexport const selectMessages = state => state.dialogs.msgData","import Dialogs from './Dialogs'\r\nimport { sendMessage } from '../../redux/dialogs-reducer'\r\nimport { connect } from 'react-redux'\r\nimport withAuthRedirect from '../../hoc/withAuthRedirect'\r\nimport { compose } from 'redux'\r\nimport { selectDialogs, selectMessages } from '../../redux/dialogs-selectors'\r\n\r\nlet mapStateToProps = state => ({\r\n\tdialogs: selectDialogs(state),\r\n\tmessages: selectMessages(state)\r\n})\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, { sendMessage }),\r\n\twithAuthRedirect\r\n)(Dialogs)"],"names":["S","Container","styled","display","alignItems","columnGap","width","height","objectFit","borderRadius","props","src","avatar","alt","to","id","name","Message","theme","padding","backgroundColor","colors","backgroundContainer","sizes","text","initialValues","message","onSubmit","values","setSubmitting","resetForm","sendMessage","isSubmitting","component","SendTextarea","placeholder","validate","notNull","gridTemplateColumns","headerHeight","Dialogs","marginBottom","Chat","rowGap","flexFlow","justifyContent","overflow","ChatWrapper","position","opacity","MessagesBlock","scrollbarBackground","scrollbar","MagicBox","top","right","background","transition","dialogList","dialogs","map","d","firstName","lastName","msgList","messages","m","reverse","messagesEndRef","useRef","useEffect","scrollToBottom","current","scrollIntoView","behavior","block","ref","selectDialogs","state","dialogsData","selectMessages","msgData","compose","connect","withAuthRedirect"],"sourceRoot":""}