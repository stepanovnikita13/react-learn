{"version":3,"file":"static/js/975.28dfdc5b.chunk.js","mappings":"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","sources":["components/Dialogs/DialogItem/DialogItem.styled.js","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.styled.js","components/Dialogs/Message/Message.jsx","components/Dialogs/AddMessageForm/AddMessageForm.jsx","components/Dialogs/Dialogs.styled.js","components/Dialogs/Dialogs.jsx","redux/dialogs-selectors.js","components/Dialogs/DialogsContainer.jsx"],"sourcesContent":["import { createUseStyles } from 'react-jss'\r\n\r\nconst useStyles = createUseStyles({\r\n\tcontainer: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tcolumnGap: 10,\r\n\t\t'& img': {\r\n\t\t\twidth: 50,\r\n\t\t\theight: 50,\r\n\t\t\tobjectFit: 'cover',\r\n\t\t\tborderRadius: '50%'\r\n\t\t}\r\n\t}\r\n})\r\n\r\nexport default useStyles","import { NavLink } from 'react-router-dom'\r\nimport useStyles from './DialogItem.styled'\r\n\r\nconst DialogItem = (props) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<div className={classes.container} >\r\n\t\t\t<img src={props.avatar} alt=\"\" />\r\n\t\t\t<NavLink to={'/dialogs/' + props.id} >{props.name}</NavLink>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default DialogItem;","import { createUseStyles } from 'react-jss'\r\n\r\nconst useStyles = createUseStyles(theme => ({\r\n\tmessage: {\r\n\t\twidth: 'max-content',\r\n\t\tpadding: '6px 18px',\r\n\t\tbackgroundColor: theme.colors.backgroundContainer,\r\n\t\tborderRadius: theme.sizes.borderRadius,\r\n\t}\r\n}))\r\n\r\nexport default useStyles","import useStyles from './Message.styled';\r\n\r\nconst Message = ({ text }) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<div className={classes.message}>{text}</div>\r\n\t)\r\n}\r\nexport default Message;","import { Field, Form, Formik } from \"formik\"\r\nimport { useTheme } from \"react-jss\"\r\nimport withField from \"../../../hoc/withField\"\r\nimport { notNull } from \"../../../utilits/validators/validators\"\r\nimport { ButtonIcon } from \"../../common/form/Buttons/Buttons\"\r\nimport { TextareaWithSendButton } from \"../../common/form/Textarea/Textarea\"\r\n\r\nconst TextareaField = withField(TextareaWithSendButton)\r\n\r\nconst AddMessageForm = (props) => {\r\n\tconst theme = useTheme()\r\n\tconst onSubmit = (values, { setSubmitting, resetForm }) => {\r\n\t\tprops.sendMessage(values.message)\r\n\t\tsetSubmitting(false)\r\n\t\tresetForm()\r\n\t}\r\n\r\n\tconst Button = (props) => <ButtonIcon {...props} icon='send' />\r\n\r\n\treturn <Formik\r\n\t\tinitialValues={{ message: '' }}\r\n\t\tonSubmit={onSubmit}\r\n\t>\r\n\t\t{({\r\n\t\t\tdirty,\r\n\t\t\thandleSubmit,\r\n\t\t\tisValid,\r\n\t\t\tisSubmitting\r\n\t\t}) => {\r\n\t\t\tconst handlerKeyPress = e => {\r\n\t\t\t\tif (e.charCode === 13 && !e.shiftKey) {\r\n\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\thandleSubmit()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn (\r\n\t\t\t\t<Form>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\tcomponent={TextareaField}\r\n\t\t\t\t\t\tname='message'\r\n\t\t\t\t\t\tplaceholder='Enter Your message'\r\n\t\t\t\t\t\tonKeyPress={handlerKeyPress}\r\n\t\t\t\t\t\tvalidate={notNull}\r\n\t\t\t\t\t\tdisabled={!isValid || isSubmitting || !dirty}\r\n\t\t\t\t\t\tstyle={{ backgroundColor: theme.colors.backgroundContainer }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form>\r\n\t\t\t)\r\n\t\t}}\r\n\t</Formik>\r\n}\r\n\r\nexport default AddMessageForm","import { createUseStyles } from 'react-jss'\r\n\r\nconst useStyles = createUseStyles(theme => ({\r\n\tcontainer: {\r\n\t\tdisplay: 'grid',\r\n\t\tgridTemplateColumns: '4fr 8fr',\r\n\t\theight: `calc(100vh - ${theme.sizes.headerHeight}px)`,\r\n\t\tpadding: 20\r\n\t},\r\n\tdialogs: {\r\n\t\t'&>*:not(:last-child)': {\r\n\t\t\tmarginBottom: 10\r\n\t\t}\r\n\t},\r\n\tchat: {\r\n\t\trowGap: 15,\r\n\t\tdisplay: 'flex',\r\n\t\tflexFlow: 'column',\r\n\t\tjustifyContent: 'flex-end',\r\n\t\toverflow: 'hidden',\r\n\t},\r\n\tchatWrapper: {\r\n\t\tdisplay: 'flex',\r\n\t\tposition: 'relative',\r\n\t\toverflow: 'hidden',\r\n\t},\r\n\tmessagesBlock: {\r\n\t\tdisplay: 'flex',\r\n\t\twidth: '100%',\r\n\t\tflexFlow: 'column-reverse nowrap',\r\n\t\toverflowY: 'auto',\r\n\t\toverflowX: 'hidden',\r\n\t\t'&>*:not(:first-child)': {\r\n\t\t\tmarginBottom: 10\r\n\t\t},\r\n\t\t'&::-webkit-scrollbar': {\r\n\t\t\twidth: 5,\r\n\t\t\tbackgroundColor: theme.colors.scrollbarBackground,\r\n\t\t\tborderRadius: '5px',\r\n\t\t},\r\n\t\t'&::-webkit-scrollbar-thumb': {\r\n\t\t\tbackgroundColor: theme.colors.scrollbar,\r\n\t\t\tborderRadius: '5px'\r\n\t\t},\r\n\t\t'&::-webkit-scrollbar-track': {\r\n\t\t\tborderRadius: '5px'\r\n\t\t}\r\n\t},\r\n\tmagicBox: ({ scrollBarIsShow }) => ({\r\n\t\tdisplay: 'block',\r\n\t\tposition: 'absolute',\r\n\t\theight: '100%',\r\n\t\twidth: 5,\r\n\t\ttop: 0,\r\n\t\tright: 0,\r\n\t\topacity: scrollBarIsShow ? 0 : 1,\r\n\t\tbackgroundColor: theme.colors.background,\r\n\t\ttransition: 'opacity .1s'\r\n\t})\r\n}), { name: 'Dialogs' })\r\n\r\nexport default useStyles","import DialogItem from './DialogItem/DialogItem'\r\nimport Message from './Message/Message'\r\nimport AddMessageForm from \"./AddMessageForm/AddMessageForm\"\r\nimport useStyles from './Dialogs.styled'\r\nimport { useEffect, useRef, useState } from 'react'\r\nimport { ErrorBoundary } from '../common/ErrorBoundary'\r\nimport { scrollTo } from '../../utilits/functions'\r\n\r\nconst Dialogs = (props) => {\r\n\tconst { dialogs, messages, sendMessage } = props\r\n\tconst [scrollBarIsShow, setScrollBarIsShow] = useState(false)\r\n\tconst classes = useStyles({ scrollBarIsShow })\r\n\tlet dialogList = dialogs.map(d => <DialogItem name={`${d.firstName} ${d.lastName}`} key={d.id} id={d.id} avatar={d.avatar} />)\r\n\tlet msgList = messages.map(m => <Message text={m.text} key={m.id} />).reverse()\r\n\tconst messagesEndRef = useRef(null)\r\n\r\n\tuseEffect(() => {\r\n\t\tscrollTo(messagesEndRef, 'end')\r\n\t}, [messages]);\r\n\r\n\tfunction showScroll() {\r\n\t\tsetScrollBarIsShow(true)\r\n\t}\r\n\r\n\tfunction hideScroll() {\r\n\t\tsetScrollBarIsShow(false)\r\n\t}\r\n\treturn (\r\n\t\t<ErrorBoundary>\r\n\t\t\t<div className={classes.container}>\r\n\t\t\t\t<div className={classes.dialogs}>\r\n\t\t\t\t\t{dialogList}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.chat}>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={classes.chatWrapper}\r\n\t\t\t\t\t\tonTouchMove={showScroll}\r\n\t\t\t\t\t\tonTouchEnd={hideScroll}\r\n\t\t\t\t\t\tonMouseEnter={showScroll}\r\n\t\t\t\t\t\tonMouseLeave={hideScroll}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span className={classes.magicBox} />\r\n\t\t\t\t\t\t<div className={classes.messagesBlock}>\r\n\t\t\t\t\t\t\t<div ref={messagesEndRef} />\r\n\t\t\t\t\t\t\t{msgList}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<AddMessageForm sendMessage={sendMessage} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</ErrorBoundary>\r\n\t)\r\n}\r\n\r\nexport default Dialogs;","export const selectDialogs = state => state.dialogs.dialogsData\r\n\r\nexport const selectMessages = state => state.dialogs.msgData","import Dialogs from './Dialogs'\r\nimport { sendMessage } from '../../redux/dialogs-reducer'\r\nimport { connect } from 'react-redux'\r\nimport withAuthRedirect from '../../hoc/withAuthRedirect'\r\nimport { compose } from 'redux'\r\nimport { selectDialogs, selectMessages } from '../../redux/dialogs-selectors'\r\n\r\nlet mapStateToProps = state => ({\r\n\tdialogs: selectDialogs(state),\r\n\tmessages: selectMessages(state)\r\n})\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, { sendMessage }),\r\n\twithAuthRedirect\r\n)(Dialogs)"],"names":["createUseStyles","container","display","alignItems","columnGap","width","height","objectFit","borderRadius","props","classes","useStyles","className","src","avatar","alt","to","id","name","theme","message","padding","backgroundColor","colors","backgroundContainer","sizes","text","TextareaField","withField","TextareaWithSendButton","useTheme","initialValues","onSubmit","values","setSubmitting","resetForm","sendMessage","dirty","handleSubmit","isValid","isSubmitting","component","placeholder","onKeyPress","e","charCode","shiftKey","preventDefault","validate","notNull","disabled","style","gridTemplateColumns","headerHeight","dialogs","marginBottom","chat","rowGap","flexFlow","justifyContent","overflow","chatWrapper","position","messagesBlock","overflowY","overflowX","scrollbarBackground","scrollbar","magicBox","top","right","opacity","scrollBarIsShow","background","transition","messages","useState","setScrollBarIsShow","dialogList","map","d","firstName","lastName","msgList","m","reverse","messagesEndRef","useRef","showScroll","hideScroll","useEffect","scrollTo","ErrorBoundary","onTouchMove","onTouchEnd","onMouseEnter","onMouseLeave","ref","selectDialogs","state","dialogsData","selectMessages","msgData","compose","connect","withAuthRedirect","Dialogs"],"sourceRoot":""}