{"version":3,"file":"static/js/975.86e6201b.chunk.js","mappings":"mLAgBA,GAdkBA,EAAAA,EAAAA,IAAgB,CACjCC,UAAW,CACVC,QAAS,OACTC,WAAY,SACZC,UAAW,GACX,QAAS,CACRC,MAAO,GACPC,OAAQ,GACRC,UAAW,QACXC,aAAc,U,SCEjB,EAVmB,SAACC,GACnB,IAAMC,EAAUC,IAChB,OACC,iBAAKC,UAAWF,EAAQT,UAAxB,WACC,gBAAKY,IAAKJ,EAAMK,OAAQC,IAAI,MAC5B,SAAC,KAAD,CAASC,GAAI,YAAcP,EAAMQ,GAAjC,SAAuCR,EAAMS,SAG/C,ECAD,GATkBlB,EAAAA,EAAAA,KAAgB,SAAAmB,GAAK,MAAK,CAC3CC,QAAS,CACRf,MAAO,cACPgB,QAAS,WACTC,gBAAiBH,EAAMI,OAAOC,oBAC9BhB,aAAcW,EAAMM,MAAMjB,cALW,ICMvC,EANgB,SAAC,GAAc,IAAZkB,EAAW,EAAXA,KACZhB,EAAUC,IAChB,OACC,gBAAKC,UAAWF,EAAQU,QAAxB,SAAkCM,GAEnC,E,8BCmBD,EAtBuB,SAACjB,GAOvB,OAAO,SAAC,KAAD,CACNkB,cAAe,CAAEP,QAAS,IAC1BQ,SARgB,SAACC,EAAD,GAA2C,IAAhCC,EAA+B,EAA/BA,cAAeC,EAAgB,EAAhBA,UAC1CtB,EAAMuB,YAAYH,EAAOT,SACzBU,GAAc,GACdC,GACA,EAEM,SAIL,cACAF,OADA,EAEAI,aAFA,OAIA,SAAC,KAAD,WACC,SAAC,KAAD,CAAOC,UAAWC,EAAAA,EAAcjB,KAAK,UAAUkB,YAAY,qBAAqBC,SAAUC,EAAAA,MAL3F,GASF,ECqCD,GA3DkBtC,EAAAA,EAAAA,KAAgB,SAAAmB,GAAK,MAAK,CAC3ClB,UAAW,CACVC,QAAS,OACTqC,oBAAqB,UACrBjC,OAAO,gBAAD,OAAkBa,EAAMM,MAAMe,aAA9B,OACNnB,QAAS,IAEVoB,QAAS,CACR,uBAAwB,CACvBC,aAAc,KAGhBC,KAAM,CACLC,OAAQ,GACR1C,QAAS,OACT2C,SAAU,SACVC,eAAgB,WAChBC,SAAU,UAEXC,YAAa,CACZ9C,QAAS,OACT+C,SAAU,WACVF,SAAU,UAEXG,cAAe,CACdhD,QAAS,OACTG,MAAO,OACPwC,SAAU,wBACVM,UAAW,OACXC,UAAW,SACX,wBAAyB,CACxBV,aAAc,IAEf,uBAAwB,CACvBrC,MAAO,EACPiB,gBAAiBH,EAAMI,OAAO8B,oBAC9B7C,aAAc,OAEf,6BAA8B,CAC7Bc,gBAAiBH,EAAMI,OAAO+B,UAC9B9C,aAAc,OAEf,6BAA8B,CAC7BA,aAAc,QAGhB+C,SAAU,kBAA0B,CACnCrD,QAAS,QACT+C,SAAU,WACV3C,OAAQ,OACRD,MAAO,EACPmD,IAAK,EACLC,MAAO,EACPC,QAPS,EAAGC,gBAOe,EAAI,EAC/BrC,gBAAiBH,EAAMI,OAAOqC,WAC9BC,WAAY,cATH,EA9C4B,GAyDnC,CAAE3C,KAAM,Y,8BCLZ,EA9CgB,SAACT,GAChB,IAAQgC,EAAmChC,EAAnCgC,QAASqB,EAA0BrD,EAA1BqD,SAAU9B,EAAgBvB,EAAhBuB,YAC3B,GAA8C+B,EAAAA,EAAAA,WAAS,GAAvD,eAAOJ,EAAP,KAAwBK,EAAxB,KACMtD,EAAUC,EAAU,CAAEgD,gBAAAA,IACxBM,EAAaxB,EAAQyB,KAAI,SAAAC,GAAC,OAAI,SAAC,EAAD,CAAYjD,KAAI,UAAKiD,EAAEC,UAAP,YAAoBD,EAAEE,UAAuBpD,GAAIkD,EAAElD,GAAIH,OAAQqD,EAAErD,QAA1BqD,EAAElD,GAA7D,IAC1BqD,EAAUR,EAASI,KAAI,SAAAK,GAAC,OAAI,SAAC,EAAD,CAAS7C,KAAM6C,EAAE7C,MAAW6C,EAAEtD,GAAlC,IAA0CuD,UAChEC,GAAiBC,EAAAA,EAAAA,QAAO,MAM9B,SAASC,IACRX,GAAmB,EACnB,CAED,SAASY,IACRZ,GAAmB,EACnB,CACD,OAXAa,EAAAA,EAAAA,YAAU,YACTC,EAAAA,EAAAA,GAASL,EAAgB,MACzB,GAAE,CAACX,KAUH,SAACiB,EAAA,EAAD,WACC,iBAAKnE,UAAWF,EAAQT,UAAxB,WACC,gBAAKW,UAAWF,EAAQ+B,QAAxB,SACEwB,KAEF,iBAAKrD,UAAWF,EAAQiC,KAAxB,WACC,iBACC/B,UAAWF,EAAQsC,YACnBgC,YAAaL,EACbM,WAAYL,EACZM,aAAcP,EACdQ,aAAcP,EALf,WAOC,iBAAMhE,UAAWF,EAAQ6C,YACzB,iBAAK3C,UAAWF,EAAQwC,cAAxB,WACC,gBAAKkC,IAAKX,IACTH,SAGH,SAAC,EAAD,CAAgBtC,YAAaA,WAKjC,E,wCCpDYqD,EAAgB,SAAAC,GAAK,OAAIA,EAAM7C,QAAQ8C,WAAlB,EAErBC,EAAiB,SAAAF,GAAK,OAAIA,EAAM7C,QAAQgD,OAAlB,ECUnC,GAAeC,EAAAA,EAAAA,KACdC,EAAAA,EAAAA,KANqB,SAAAL,GAAK,MAAK,CAC/B7C,QAAS4C,EAAcC,GACvBxB,SAAU0B,EAAeF,GAFC,GAMD,CAAEtD,YAAAA,EAAAA,IAC3B4D,EAAAA,EAFD,CAGEC,E","sources":["components/Dialogs/DialogItem/DialogItem.styled.js","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.styled.js","components/Dialogs/Message/Message.jsx","components/Dialogs/AddMessageForm/AddMessageForm.jsx","components/Dialogs/Dialogs.styled.js","components/Dialogs/Dialogs.jsx","redux/dialogs-selectors.js","components/Dialogs/DialogsContainer.jsx"],"sourcesContent":["import { createUseStyles } from 'react-jss'\r\n\r\nconst useStyles = createUseStyles({\r\n\tcontainer: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tcolumnGap: 10,\r\n\t\t'& img': {\r\n\t\t\twidth: 50,\r\n\t\t\theight: 50,\r\n\t\t\tobjectFit: 'cover',\r\n\t\t\tborderRadius: '50%'\r\n\t\t}\r\n\t}\r\n})\r\n\r\nexport default useStyles","import { NavLink } from 'react-router-dom'\r\nimport useStyles from './DialogItem.styled'\r\n\r\nconst DialogItem = (props) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<div className={classes.container} >\r\n\t\t\t<img src={props.avatar} alt=\"\" />\r\n\t\t\t<NavLink to={'/dialogs/' + props.id} >{props.name}</NavLink>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default DialogItem;","import { createUseStyles } from 'react-jss'\r\n\r\nconst useStyles = createUseStyles(theme => ({\r\n\tmessage: {\r\n\t\twidth: 'max-content',\r\n\t\tpadding: '6px 18px',\r\n\t\tbackgroundColor: theme.colors.backgroundContainer,\r\n\t\tborderRadius: theme.sizes.borderRadius,\r\n\t}\r\n}))\r\n\r\nexport default useStyles","import useStyles from './Message.styled';\r\n\r\nconst Message = ({ text }) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<div className={classes.message}>{text}</div>\r\n\t)\r\n}\r\nexport default Message;","import { Field, Form, Formik } from \"formik\"\r\nimport { notNull } from \"../../../utilits/validators/validators\"\r\nimport { SendTextarea } from \"../../common/form/Textarea/Textarea\"\r\n\r\nconst AddMessageForm = (props) => {\r\n\tconst onSubmit = (values, { setSubmitting, resetForm }) => {\r\n\t\tprops.sendMessage(values.message)\r\n\t\tsetSubmitting(false)\r\n\t\tresetForm()\r\n\t}\r\n\r\n\treturn <Formik\r\n\t\tinitialValues={{ message: '' }}\r\n\t\tonSubmit={onSubmit}\r\n\t>\r\n\t\t{({\r\n\t\t\tvalues,\r\n\t\t\tisSubmitting\r\n\t\t}) => (\r\n\t\t\t<Form>\r\n\t\t\t\t<Field component={SendTextarea} name='message' placeholder=\"Enter Your message\" validate={notNull} />\r\n\t\t\t</Form>\r\n\t\t)}\r\n\t</Formik>\r\n}\r\n\r\nexport default AddMessageForm","import { createUseStyles } from 'react-jss'\r\n\r\nconst useStyles = createUseStyles(theme => ({\r\n\tcontainer: {\r\n\t\tdisplay: 'grid',\r\n\t\tgridTemplateColumns: '4fr 8fr',\r\n\t\theight: `calc(100vh - ${theme.sizes.headerHeight}px)`,\r\n\t\tpadding: 20\r\n\t},\r\n\tdialogs: {\r\n\t\t'&>*:not(:last-child)': {\r\n\t\t\tmarginBottom: 10\r\n\t\t}\r\n\t},\r\n\tchat: {\r\n\t\trowGap: 15,\r\n\t\tdisplay: 'flex',\r\n\t\tflexFlow: 'column',\r\n\t\tjustifyContent: 'flex-end',\r\n\t\toverflow: 'hidden',\r\n\t},\r\n\tchatWrapper: {\r\n\t\tdisplay: 'flex',\r\n\t\tposition: 'relative',\r\n\t\toverflow: 'hidden',\r\n\t},\r\n\tmessagesBlock: {\r\n\t\tdisplay: 'flex',\r\n\t\twidth: '100%',\r\n\t\tflexFlow: 'column-reverse nowrap',\r\n\t\toverflowY: 'auto',\r\n\t\toverflowX: 'hidden',\r\n\t\t'&>*:not(:first-child)': {\r\n\t\t\tmarginBottom: 10\r\n\t\t},\r\n\t\t'&::-webkit-scrollbar': {\r\n\t\t\twidth: 5,\r\n\t\t\tbackgroundColor: theme.colors.scrollbarBackground,\r\n\t\t\tborderRadius: '5px',\r\n\t\t},\r\n\t\t'&::-webkit-scrollbar-thumb': {\r\n\t\t\tbackgroundColor: theme.colors.scrollbar,\r\n\t\t\tborderRadius: '5px'\r\n\t\t},\r\n\t\t'&::-webkit-scrollbar-track': {\r\n\t\t\tborderRadius: '5px'\r\n\t\t}\r\n\t},\r\n\tmagicBox: ({ scrollBarIsShow }) => ({\r\n\t\tdisplay: 'block',\r\n\t\tposition: 'absolute',\r\n\t\theight: '100%',\r\n\t\twidth: 5,\r\n\t\ttop: 0,\r\n\t\tright: 0,\r\n\t\topacity: scrollBarIsShow ? 0 : 1,\r\n\t\tbackgroundColor: theme.colors.background,\r\n\t\ttransition: 'opacity .1s'\r\n\t})\r\n}), { name: 'Dialogs' })\r\n\r\nexport default useStyles","import DialogItem from './DialogItem/DialogItem'\r\nimport Message from './Message/Message'\r\nimport AddMessageForm from \"./AddMessageForm/AddMessageForm\"\r\nimport useStyles from './Dialogs.styled'\r\nimport { useEffect, useRef, useState } from 'react'\r\nimport { ErrorBoundary } from '../common/ErrorBoundary'\r\nimport { scrollTo } from '../../utilits/functions'\r\n\r\nconst Dialogs = (props) => {\r\n\tconst { dialogs, messages, sendMessage } = props\r\n\tconst [scrollBarIsShow, setScrollBarIsShow] = useState(false)\r\n\tconst classes = useStyles({ scrollBarIsShow })\r\n\tlet dialogList = dialogs.map(d => <DialogItem name={`${d.firstName} ${d.lastName}`} key={d.id} id={d.id} avatar={d.avatar} />)\r\n\tlet msgList = messages.map(m => <Message text={m.text} key={m.id} />).reverse()\r\n\tconst messagesEndRef = useRef(null)\r\n\r\n\tuseEffect(() => {\r\n\t\tscrollTo(messagesEndRef, 'end')\r\n\t}, [messages]);\r\n\r\n\tfunction showScroll() {\r\n\t\tsetScrollBarIsShow(true)\r\n\t}\r\n\r\n\tfunction hideScroll() {\r\n\t\tsetScrollBarIsShow(false)\r\n\t}\r\n\treturn (\r\n\t\t<ErrorBoundary>\r\n\t\t\t<div className={classes.container}>\r\n\t\t\t\t<div className={classes.dialogs}>\r\n\t\t\t\t\t{dialogList}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.chat}>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={classes.chatWrapper}\r\n\t\t\t\t\t\tonTouchMove={showScroll}\r\n\t\t\t\t\t\tonTouchEnd={hideScroll}\r\n\t\t\t\t\t\tonMouseEnter={showScroll}\r\n\t\t\t\t\t\tonMouseLeave={hideScroll}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span className={classes.magicBox} />\r\n\t\t\t\t\t\t<div className={classes.messagesBlock}>\r\n\t\t\t\t\t\t\t<div ref={messagesEndRef} />\r\n\t\t\t\t\t\t\t{msgList}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<AddMessageForm sendMessage={sendMessage} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</ErrorBoundary>\r\n\t)\r\n}\r\n\r\nexport default Dialogs;","export const selectDialogs = state => state.dialogs.dialogsData\r\n\r\nexport const selectMessages = state => state.dialogs.msgData","import Dialogs from './Dialogs'\r\nimport { sendMessage } from '../../redux/dialogs-reducer'\r\nimport { connect } from 'react-redux'\r\nimport withAuthRedirect from '../../hoc/withAuthRedirect'\r\nimport { compose } from 'redux'\r\nimport { selectDialogs, selectMessages } from '../../redux/dialogs-selectors'\r\n\r\nlet mapStateToProps = state => ({\r\n\tdialogs: selectDialogs(state),\r\n\tmessages: selectMessages(state)\r\n})\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, { sendMessage }),\r\n\twithAuthRedirect\r\n)(Dialogs)"],"names":["createUseStyles","container","display","alignItems","columnGap","width","height","objectFit","borderRadius","props","classes","useStyles","className","src","avatar","alt","to","id","name","theme","message","padding","backgroundColor","colors","backgroundContainer","sizes","text","initialValues","onSubmit","values","setSubmitting","resetForm","sendMessage","isSubmitting","component","SendTextarea","placeholder","validate","notNull","gridTemplateColumns","headerHeight","dialogs","marginBottom","chat","rowGap","flexFlow","justifyContent","overflow","chatWrapper","position","messagesBlock","overflowY","overflowX","scrollbarBackground","scrollbar","magicBox","top","right","opacity","scrollBarIsShow","background","transition","messages","useState","setScrollBarIsShow","dialogList","map","d","firstName","lastName","msgList","m","reverse","messagesEndRef","useRef","showScroll","hideScroll","useEffect","scrollTo","ErrorBoundary","onTouchMove","onTouchEnd","onMouseEnter","onMouseLeave","ref","selectDialogs","state","dialogsData","selectMessages","msgData","compose","connect","withAuthRedirect","Dialogs"],"sourceRoot":""}