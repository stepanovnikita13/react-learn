"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[975],{975:function(e,n,a){a.r(n),a.d(n,{default:function(){return F}});var o=a(885),s=a(3504),t=a(5925),i=(0,t.QM)({container:{display:"flex",alignItems:"center",columnGap:10,"& img":{width:50,height:50,objectFit:"cover",borderRadius:"50%"}}}),r=a(184),l=function(e){var n=e.id,a=e.avatar,o=e.name,t=e.onClick,l=i();return(0,r.jsxs)("div",{className:l.container,onClick:t,children:[(0,r.jsx)("img",{src:a,alt:""}),(0,r.jsx)(s.OL,{to:"/dialogs/"+n,children:o})]})},c=a(4942),d=a(3139),u=(0,t.QM)((function(e){var n;return{container:{display:"flex",position:"relative",height:"calc(100vh - ".concat(e.sizes.headerHeight,"px)"),padding:[20,0]},dialogs:(n={position:"absolute",inset:"20px 0px",backgroundColor:e.colors.background,zIndex:e.zIndex.dialogs,transform:function(e){return e.isHide?"translateX(-100%)":"translateX(0)"},transition:"transform .2s ease","&>*:not(:last-child)":{marginBottom:10}},(0,c.Z)(n,"@media ".concat(d.U.tabletS),{position:"static",flex:"0 1 320px"}),(0,c.Z)(n,"@media ".concat(d.U.laptopL),{position:"static",flex:"0 1 400px"}),n),button:{position:"fixed",backgroundColor:e.colors.buttonToDialogs,padding:5,borderRadius:"50%",zIndex:e.zIndex.buttonToDialogs}}}),{name:"Dialogs"}),g=a(6254),m=a(2791),f=a(5865),p=a(1795),x=a(7058),h=a(3068),b=a(8938),v=a(7805),k=(0,h.Z)(v.e),j=function(e){var n=(0,x.Fg)();return(0,r.jsx)(p.J9,{initialValues:{message:""},onSubmit:function(n,a){var o=a.setSubmitting,s=a.resetForm;e.sendMessage(n.message),o(!1),s()},children:function(e){var a=e.dirty,o=e.handleSubmit,s=e.isValid,t=e.isSubmitting;return(0,r.jsx)(p.l0,{children:(0,r.jsx)(p.gN,{component:k,name:"message",placeholder:"Enter Your message",onKeyPress:function(e){13!==e.charCode||e.shiftKey||(e.preventDefault(),o())},validate:b.Nf,disabled:!s||t||!a,style:{backgroundColor:n.colors.backgroundContainer}})})}})},w=(0,t.QM)((function(e){return{message:{width:"max-content",padding:"6px 18px",backgroundColor:e.colors.backgroundContainer,borderRadius:e.sizes.borderRadius}}})),C=function(e){var n=e.text,a=w();return(0,r.jsx)("div",{className:a.message,children:n})},y=(0,t.QM)((function(e){return{chat:(0,c.Z)({display:"flex",flexFlow:"column",flex:"1 1 100%",rowGap:15,justifyContent:"flex-end",overflow:"hidden"},"@media ".concat(d.U.tabletS),{flex:"1 1 auto"}),chatWrapper:{display:"flex",position:"relative",overflow:"hidden"},messagesBlock:{display:"flex",width:"100%",flexFlow:"column-reverse nowrap",overflowY:"auto",overflowX:"hidden","&>*:not(:first-child)":{marginBottom:10},"&::-webkit-scrollbar":{width:5,backgroundColor:e.colors.scrollbarBackground,borderRadius:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.colors.scrollbar,borderRadius:"5px"},"&::-webkit-scrollbar-track":{borderRadius:"5px"}},magicBox:function(n){return{display:"block",position:"absolute",height:"100%",width:5,top:0,right:0,opacity:n.scrollBarIsShow?0:1,backgroundColor:e.colors.background,transition:"opacity .1s"}}}}),{name:"Chat"}),M=function(e){var n=e.messages,a=e.sendMessage,s=(0,m.useState)(!1),t=(0,o.Z)(s,2),i=t[0],l=t[1],c=(0,m.useRef)(null),d=y({scrollBarIsShow:i}),u=n.map((function(e){return(0,r.jsx)(C,{text:e.text},e.id)})).reverse();function g(){l(!0)}function p(){l(!1)}return(0,m.useEffect)((function(){var e,n;(null===(e=c.current)||void 0===e||null===(n=e.parentElement)||void 0===n?void 0:n.scrollTop)>-200&&(0,f.X)(c,"end")}),[n]),(0,r.jsxs)("div",{className:d.chat,children:[(0,r.jsxs)("div",{className:d.chatWrapper,onTouchMove:g,onTouchEnd:p,onMouseEnter:g,onMouseLeave:p,children:[(0,r.jsx)("span",{className:d.magicBox}),(0,r.jsxs)("div",{className:d.messagesBlock,children:[(0,r.jsx)("div",{ref:c}),u]})]}),(0,r.jsx)(j,{sendMessage:a})]})},N=a(1672),S=a(187),B=function(e){var n=e.dialogs,a=e.messages,s=e.sendMessage,t=(0,m.useState)(!1),i=(0,o.Z)(t,2),c=i[0],f=i[1],p=u({isHide:c}),x=(0,S.Z)([d.U.tabletS],[!1],!0),h=n.map((function(e){return(0,r.jsx)(l,{id:e.id,name:"".concat(e.firstName," ").concat(e.lastName),avatar:e.avatar,onClick:function(){return x&&f(!0)}},e.id)}));return(0,r.jsx)(g.S,{children:(0,r.jsxs)("div",{className:p.container,children:[x&&(0,r.jsx)(N.Ei,{className:p.button,onClick:function(){return f(!1)},icon:"message"}),(0,r.jsx)("div",{className:p.dialogs,children:h}),(0,r.jsx)(M,{messages:a,sendMessage:s})]})})},R=a(8281),Z=a(8687),I=a(1548),z=a(7781),D=function(e){return e.dialogs.dialogsData},E=function(e){return e.dialogs.msgData},F=(0,z.qC)((0,Z.$j)((function(e){return{dialogs:D(e),messages:E(e)}}),{sendMessage:R.bG}),I.Z)(B)}}]);
//# sourceMappingURL=975.a5b71446.chunk.js.map