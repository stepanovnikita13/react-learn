"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[975],{8975:function(e,s,a){a.r(s),a.d(s,{default:function(){return M}});var n=a(885),o=a(3504),r=a(5925),i=(0,r.QM)({container:{display:"flex",alignItems:"center",columnGap:10,"& img":{width:50,height:50,objectFit:"cover",borderRadius:"50%"}}}),t=a(184),c=function(e){var s=i();return(0,t.jsxs)("div",{className:s.container,children:[(0,t.jsx)("img",{src:e.avatar,alt:""}),(0,t.jsx)(o.OL,{to:"/dialogs/"+e.id,children:e.name})]})},l=(0,r.QM)((function(e){return{message:{width:"max-content",padding:"6px 18px",backgroundColor:e.colors.backgroundContainer,borderRadius:e.sizes.borderRadius}}})),d=function(e){var s=e.text,a=l();return(0,t.jsx)("div",{className:a.message,children:s})},u=a(1795),g=a(8938),m=a(8862),h=function(e){return(0,t.jsx)(u.J9,{initialValues:{message:""},onSubmit:function(s,a){var n=a.setSubmitting,o=a.resetForm;e.sendMessage(s.message),n(!1),o()},children:function(e){e.values,e.isSubmitting;return(0,t.jsx)(u.l0,{children:(0,t.jsx)(u.gN,{component:m.o,name:"message",placeholder:"Enter Your message",validate:g.Nf})})}})},f=(0,r.QM)((function(e){return{container:{display:"grid",gridTemplateColumns:"4fr 8fr",height:"calc(100vh - ".concat(e.sizes.headerHeight,"px)"),padding:20},dialogs:{"&>*:not(:last-child)":{marginBottom:10}},chat:{rowGap:15,display:"flex",flexFlow:"column",justifyContent:"flex-end",overflow:"hidden"},chatWrapper:{display:"flex",position:"relative",overflow:"hidden"},messagesBlock:{display:"flex",width:"100%",flexFlow:"column-reverse nowrap",overflowY:"auto",overflowX:"hidden","&>*:not(:first-child)":{marginBottom:10},"&::-webkit-scrollbar":{width:5,backgroundColor:e.colors.scrollbarBackground,borderRadius:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.colors.scrollbar,borderRadius:"5px"},"&::-webkit-scrollbar-track":{borderRadius:"5px"}},magicBox:function(s){return{display:"block",position:"absolute",height:"100%",width:5,top:0,right:0,opacity:s.scrollBarIsShow?0:1,backgroundColor:e.colors.background,transition:"opacity .1s"}}}}),{name:"Dialogs"}),p=a(2791),x=a(7954),b=a(1440),v=function(e){var s=e.dialogs,a=e.messages,o=e.sendMessage,r=(0,p.useState)(!1),i=(0,n.Z)(r,2),l=i[0],u=i[1],g=f({scrollBarIsShow:l}),m=s.map((function(e){return(0,t.jsx)(c,{name:"".concat(e.firstName," ").concat(e.lastName),id:e.id,avatar:e.avatar},e.id)})),v=a.map((function(e){return(0,t.jsx)(d,{text:e.text},e.id)})).reverse(),j=(0,p.useRef)(null);function w(){u(!0)}function k(){u(!1)}return(0,p.useEffect)((function(){(0,b.X)(j,"end")}),[a]),(0,t.jsx)(x.S,{children:(0,t.jsxs)("div",{className:g.container,children:[(0,t.jsx)("div",{className:g.dialogs,children:m}),(0,t.jsxs)("div",{className:g.chat,children:[(0,t.jsxs)("div",{className:g.chatWrapper,onTouchMove:w,onTouchEnd:k,onMouseEnter:w,onMouseLeave:k,children:[(0,t.jsx)("span",{className:g.magicBox}),(0,t.jsxs)("div",{className:g.messagesBlock,children:[(0,t.jsx)("div",{ref:j}),v]})]}),(0,t.jsx)(h,{sendMessage:o})]})]})})},j=a(2807),w=a(8687),k=a(1548),N=a(7781),y=function(e){return e.dialogs.dialogsData},C=function(e){return e.dialogs.msgData},M=(0,N.qC)((0,w.$j)((function(e){return{dialogs:y(e),messages:C(e)}}),{sendMessage:j.b}),k.Z)(v)}}]);
//# sourceMappingURL=975.86e6201b.chunk.js.map