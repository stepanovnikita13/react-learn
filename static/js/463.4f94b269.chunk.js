"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[463],{7254:function(e,a,s){s.r(a),s.d(a,{default:function(){return F}});var n=s(885),o=s(3504),t=s(5925),i=(0,t.QM)({container:{display:"flex",alignItems:"center",columnGap:10,"& img":{width:50,height:50,objectFit:"cover",borderRadius:"50%"}}}),r=s(184),c=function(e){var a=e.id,s=e.avatar,n=e.name,t=e.onClick,c=i();return(0,r.jsxs)("div",{className:c.container,onClick:t,children:[(0,r.jsx)("img",{src:s,alt:""}),(0,r.jsx)(o.OL,{to:"/dialogs/"+a,children:n})]})},l=s(4942),d=s(3139),u=(0,t.QM)((function(e){var a;return{container:{display:"flex",position:"relative",height:"calc(100vh - ".concat(e.sizes.headerHeight,"px)"),padding:[20,0]},dialogs:(a={position:"absolute",inset:"20px 0px",backgroundColor:e.colors.background,zIndex:e.zIndex.dialogs,transform:function(e){return e.isHide?"translateX(-100%)":"translateX(0)"},transition:"transform .2s ease","&>*:not(:last-child)":{marginBottom:10}},(0,l.Z)(a,"@media ".concat(d.U.tabletS),{position:"static",flex:"0 1 320px"}),(0,l.Z)(a,"@media ".concat(d.U.laptopL),{position:"static",flex:"0 1 400px"}),a),button:{position:"fixed",backgroundColor:e.colors.buttonToDialogs,padding:5,borderRadius:"50%",zIndex:e.zIndex.buttonToDialogs}}}),{name:"Dialogs"}),g=s(7954),m=s(2791),f=s(1440),x=s(1795),p=s(7058),h=s(3068),b=s(8938),v=s(9300),k=(0,h.Z)(v.e),j=function(e){var a=(0,p.Fg)();return(0,r.jsx)(x.J9,{initialValues:{message:""},onSubmit:function(a,s){var n=s.setSubmitting,o=s.resetForm;e.sendMessage(a.message),n(!1),o()},children:function(e){var s=e.dirty,n=e.handleSubmit,o=e.isValid,t=e.isSubmitting;return(0,r.jsx)(x.l0,{children:(0,r.jsx)(x.gN,{component:k,name:"message",placeholder:"Enter Your message",onKeyPress:function(e){13!==e.charCode||e.shiftKey||(e.preventDefault(),n())},validate:b.Nf,disabled:!o||t||!s,style:{backgroundColor:a.colors.backgroundContainer}})})}})},w=(0,t.QM)((function(e){return{message:{width:"max-content",padding:"6px 18px",backgroundColor:e.colors.backgroundContainer,borderRadius:e.sizes.borderRadius}}})),C=function(e){var a=e.text,s=w();return(0,r.jsx)("div",{className:s.message,children:a})},y=(0,t.QM)((function(e){return{chat:(0,l.Z)({display:"flex",flexFlow:"column",flex:"1 1 100%",rowGap:15,justifyContent:"flex-end",overflow:"hidden"},"@media ".concat(d.U.tabletS),{flex:"1 1 auto"}),chatWrapper:{display:"flex",position:"relative",overflow:"hidden"},messagesBlock:{display:"flex",width:"100%",flexFlow:"column-reverse nowrap",overflowY:"auto",overflowX:"hidden","&>*:not(:first-child)":{marginBottom:10},"&::-webkit-scrollbar":{width:5,backgroundColor:e.colors.scrollbarBackground,borderRadius:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.colors.scrollbar,borderRadius:"5px"},"&::-webkit-scrollbar-track":{borderRadius:"5px"}},magicBox:function(a){return{display:"block",position:"absolute",height:"100%",width:5,top:0,right:0,opacity:a.scrollBarIsShow?0:1,backgroundColor:e.colors.background,transition:"opacity .1s"}}}}),{name:"Chat"}),M=function(e){var a=e.messages,s=e.sendMessage,o=(0,m.useState)(!1),t=(0,n.Z)(o,2),i=t[0],c=t[1],l=(0,m.useRef)(null),d=y({scrollBarIsShow:i}),u=a.map((function(e){return(0,r.jsx)(C,{text:e.text},e.id)})).reverse();function g(){c(!0)}function x(){c(!1)}return(0,m.useEffect)((function(){(0,f.X)(l,"end")}),[a]),(0,r.jsxs)("div",{className:d.chat,children:[(0,r.jsxs)("div",{className:d.chatWrapper,onTouchMove:g,onTouchEnd:x,onMouseEnter:g,onMouseLeave:x,children:[(0,r.jsx)("span",{className:d.magicBox}),(0,r.jsxs)("div",{className:d.messagesBlock,children:[(0,r.jsx)("div",{ref:l}),u]})]}),(0,r.jsx)(j,{sendMessage:s})]})},N=s(1672),S=s(187),B=function(e){var a=e.dialogs,s=e.messages,o=e.sendMessage,t=(0,m.useState)(!1),i=(0,n.Z)(t,2),l=i[0],f=i[1],x=u({isHide:l}),p=(0,S.Z)([d.U.tabletS],[!1],!0),h=a.map((function(e){return(0,r.jsx)(c,{id:e.id,name:"".concat(e.firstName," ").concat(e.lastName),avatar:e.avatar,onClick:function(){return p&&f(!0)}},e.id)}));return(0,r.jsx)(g.S,{children:(0,r.jsxs)("div",{className:x.container,children:[p&&(0,r.jsx)(N.Ei,{className:x.button,onClick:function(){return f(!1)},icon:"message"}),(0,r.jsx)("div",{className:x.dialogs,children:h}),(0,r.jsx)(M,{messages:s,sendMessage:o})]})})},R=s(8281),Z=s(8687),I=s(1548),z=s(7781),D=function(e){return e.dialogs.dialogsData},E=function(e){return e.dialogs.msgData},F=(0,z.qC)((0,Z.$j)((function(e){return{dialogs:D(e),messages:E(e)}}),{sendMessage:R.b}),I.Z)(B)}}]);
//# sourceMappingURL=463.4f94b269.chunk.js.map